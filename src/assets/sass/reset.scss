// 1. 样式重置 (基于Normalize思想，适配现代浏览器)
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

// 基础元素样式统一
html {
  font-size: 16px;
  scroll-behavior: smooth; // 平滑滚动
}

body {
  min-height: 100vh;
  line-height: 1.5;
  text-rendering: optimizeSpeed;
}

// 列表样式重置
ul, ol {
  list-style: none;
}

// 链接样式
a {
  text-decoration: none;
  color: inherit;
  transition: color 0.2s ease;
}

// 媒体元素
img, video, canvas, svg {
  display: block;
  max-width: 100%;
  height: auto;
}

// 表单元素
input, button, textarea, select {
  font: inherit;
  outline: none;
  border: none;
  background: transparent;
}

// 表格样式
table {
  border-collapse: collapse;
  border-spacing: 0;
}

// 清除浮动
.clearfix::after {
  content: '';
  display: table;
  clear: both;
}

// 隐藏元素（保持可访问性）
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}


// 2. 全局变量配置
// 颜色系统
$colors: (
  // 主题色
  primary: #165DFF,
  secondary: #36CFC9,
  
  // 功能色
  success: #52C41A,
  warning: #FAAD14,
  danger: #FF4D4F,
  info: #40A9FF,
  
  // 中性色
  neutral: (
    100: #F5F5F5,
    200: #E5E5E5,
    300: #D4D4D4,
    400: #A3A3A3,
    500: #737373,
    600: #525252,
    700: #404040,
    800: #262626,
    900: #171717,
  ),
  
  // 背景色
  background: (
    light: #FFFFFF,
    dark: #1F1F1F,
  )
);

// 字体配置
$fonts: (
  family: (
    sans: 'Inter, system-ui, -apple-system, sans-serif',
    serif: 'Georgia, "Times New Roman", serif',
    mono: 'Consolas, Monaco, monospace'
  ),
  size: (
    xs: 0.75rem,    // 12px
    sm: 0.875rem,   // 14px
    base: 1rem,     // 16px
    lg: 1.125rem,   // 18px
    xl: 1.25rem,    // 20px
    '2xl': 1.5rem,  // 24px
    '3xl': 1.875rem,// 30px
    '4xl': 2.25rem, // 36px
    '5xl': 3rem     // 48px
  ),
  weight: (
    light: 300,
    regular: 400,
    medium: 500,
    semibold: 600,
    bold: 700,
    black: 900
  ),
  line-height: (
    tight: 1.2,
    normal: 1.5,
    loose: 1.8
  )
);

// 间距系统 (基于8px网格)
$spacing: (
  0: 0,
  1: 0.25rem,  // 4px
  2: 0.5rem,   // 8px
  3: 0.75rem,  // 12px
  4: 1rem,     // 16px
  5: 1.25rem,  // 20px
  6: 1.5rem,   // 24px
  7: 1.75rem,  // 28px
  8: 2rem,     // 32px
  10: 2.5rem,  // 40px
  12: 3rem,    // 48px
  16: 4rem,    // 64px
  20: 5rem,    // 80px
  24: 6rem,    // 96px
  32: 8rem     // 128px
);

// 响应式断点
$breakpoints: (
  sm: 640px,    // 小屏幕手机
  md: 768px,    // 大屏幕手机/平板
  lg: 1024px,   // 小屏幕桌面
  xl: 1280px,   // 中等屏幕桌面
  '2xl': 1536px // 大屏幕桌面
);

// 边框配置
$borders: (
  radius: (
    sm: 0.25rem,
    md: 0.5rem,
    lg: 0.75rem,
    xl: 1rem,
    full: 9999px
  ),
  width: (
    thin: 1px,
    medium: 2px,
    thick: 3px
  )
);


// 3. 工具函数
// 获取颜色
@function color($key, $subkey: null) {
  @if $subkey {
    @return map-get(map-get($colors, $key), $subkey);
  }
  @return map-get($colors, $key);
}

// 获取字体属性
@function font-family($key: sans) {
  @return map-get(map-get($fonts, family), $key);
}

@function font-size($key: base) {
  @return map-get(map-get($fonts, size), $key);
}

@function font-weight($key: regular) {
  @return map-get(map-get($fonts, weight), $key);
}

@function line-height($key: normal) {
  @return map-get(map-get($fonts, line-height), $key);
}

// 获取间距
@function spacing($key) {
  @return map-get($spacing, $key);
}

// 获取边框属性
@function border-radius($key: md) {
  @return map-get(map-get($borders, radius), $key);
}

@function border-width($key: thin) {
  @return map-get(map-get($borders, width), $key);
}


// 4. 混合宏(Mixins)
// 响应式断点
@mixin breakpoint($key) {
  @media (min-width: map-get($breakpoints, $key)) {
    @content;
  }
}

// 清除默认样式的按钮
@mixin reset-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  user-select: none;
  text-align: center;
  transition: all 0.2s ease;
}

// 盒子阴影
@mixin shadow($level: 1) {
  $shadows: (
    1: 0 1px 3px rgba(0, 0, 0, 0.1),
    2: 0 4px 6px rgba(0, 0, 0, 0.1),
    3: 0 10px 15px rgba(0, 0, 0, 0.1),
    4: 0 20px 25px rgba(0, 0, 0, 0.1)
  );
  box-shadow: map-get($shadows, $level);
}


// 5. 基础组件样式
// 容器
.container {
  width: 100%;
  margin: 0 auto;
  padding-left: spacing(4);
  padding-right: spacing(4);

  @include breakpoint(lg) {
    max-width: 1024px;
  }

  @include breakpoint(xl) {
    max-width: 1280px;
  }

  @include breakpoint('2xl') {
    max-width: 1536px;
  }
}

// 基础按钮
.btn {
  @include reset-btn;
  padding: spacing(3) spacing(6);
  border-radius: border-radius(md);
  font-weight: font-weight(medium);

  &--primary {
    background-color: color(primary);
    color: white;

    &:hover {
      background-color: darken(color(primary), 8%);
    }

    &:active {
      background-color: darken(color(primary), 12%);
    }
  }

  &--outline {
    border: border-width(thin) solid color(primary);
    color: color(primary);

    &:hover {
      background-color: rgba(color(primary), 0.1);
    }
  }
}
